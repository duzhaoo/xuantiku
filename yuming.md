# 自定义域名配置指南

## 目录

- [什么是域名](#什么是域名)
- [域名购买](#域名购买)
- [域名配置](#域名配置)
  - [在Vercel配置](#在vercel配置)
  - [在腾讯云配置](#在腾讯云配置)
  - [在阿里云配置](#在阿里云配置)
  - [在Netlify配置](#在netlify配置)
- [子域名配置](#子域名配置)
- [HTTPS配置](#https配置)
- [国内域名备案](#国内域名备案)
- [常见问题与解决方案](#常见问题与解决方案)
- [域名维护与续费](#域名维护与续费)

## 什么是域名

域名是网站在互联网上的唯一标识和地址，类似于实体店铺的门牌号。域名系统(DNS)将域名转换为IP地址，使用户无需记忆复杂的数字IP地址即可访问网站。

常见域名后缀及其用途：
- `.com`: 商业网站（最常见）
- `.org`: 非营利组织
- `.net`: 网络服务提供商
- `.edu`: 教育机构
- `.cn`: 中国国家顶级域名
- `.io`: 技术和开发者社区流行

## 域名购买

### 域名注册商选择

主流域名注册商比较：

| 注册商 | 优势 | 劣势 | 适合人群 |
|--------|------|------|----------|
| 腾讯云 | 国内操作简便，备案方便 | 国际域名价格稍高 | 国内用户，需要备案的网站 |
| 阿里云 | 国内市场份额大，服务全面 | 续费价格可能较高 | 使用阿里云其他服务的用户 |
| Namecheap | 价格合理，隐私保护免费 | 中文支持有限 | 国际用户，注重隐私保护 |
| GoDaddy | 知名度高，域名种类多 | 续费价格高，附加服务多 | 需要特殊域名后缀的用户 |

### 购买流程

1. 访问所选注册商网站
2. 搜索心仪域名是否可用
3. 选择购买年限（通常1-10年）
4. 填写域名所有者信息
5. 完成支付
6. 验证邮箱（重要！）

### 域名选择建议

- 简短易记
- 避免使用连字符和数字
- 考虑SEO因素（包含关键词）
- 检查是否有商标侵权风险
- 考虑购买多个TLD（如同时购买.com和.cn）

## 域名配置

### 在Vercel配置

Vercel是一个流行的前端部署平台，配置自定义域名步骤如下：

1. 登录Vercel控制台
2. 选择您的项目
3. 进入"Settings" > "Domains"
4. 添加域名（输入完整域名如example.com）
5. 选择配置方式：
   - A记录：配置域名根 (@)
   - CNAME记录：配置子域名（www等）

Vercel会提供以下配置信息：
- A记录：通常指向 76.76.21.21
- CNAME记录：通常指向 cname.vercel-dns.com

### 在腾讯云配置

如果您在腾讯云购买域名并希望指向Vercel等外部平台：

1. 登录腾讯云控制台
2. 进入"域名注册" > 选择您的域名 > "解析"
3. 点击"添加记录"
4. 根据目标平台要求添加记录：

**配置A记录**：
- 主机记录: @ (代表根域名)
- 记录类型: A
- 记录值: 填写目标平台提供的IP (如Vercel的76.76.21.21)
- TTL: 600（默认即可）

**配置CNAME记录**：
- 主机记录: www (或其他子域名)
- 记录类型: CNAME
- 记录值: 填写目标平台提供的值 (如cname.vercel-dns.com)
- TTL: 600（默认即可）

### 在阿里云配置

阿里云域名配置到外部平台：

1. 登录阿里云控制台
2. 进入"域名服务" > 找到您的域名
3. 点击"解析"
4. 添加记录：
   - A记录指向目标平台IP
   - CNAME记录指向目标平台域名
   - MX记录用于邮箱服务

### 在Netlify配置

Netlify是另一个流行的部署平台：

1. 登录Netlify账户
2. 选择您的站点 > "Domain settings"
3. 点击"Add custom domain"
4. 输入您的域名
5. 按照Netlify提供的DNS设置说明进行域名服务商配置

## 子域名配置

子域名是主域名的分支，如blog.example.com。配置子域名：

1. 在DNS服务商添加CNAME记录
   - 主机记录填写子域名前缀（如blog）
   - 记录值指向目标服务

2. 在目标平台添加子域名
   - 大多数平台（如Vercel）允许添加多个域名
   - 每个子域名可以指向不同项目

子域名使用建议：
- 使用blog.domain.com用于博客
- 使用api.domain.com用于API服务
- 使用admin.domain.com用于管理后台

## HTTPS配置

HTTPS对提升网站安全性和搜索排名至关重要：

1. 大多数现代平台（Vercel、Netlify等）自动提供SSL证书
2. 自动证书通常使用Let's Encrypt，有效期90天，自动续期
3. 如果需要手动配置，可以：
   - 使用免费的Let's Encrypt证书
   - 在云服务商购买证书
   - 使用Cloudflare等CDN服务提供的免费SSL

证书配置完成后检查：
- 浏览器地址栏显示锁图标
- 强制HTTP跳转HTTPS
- 混合内容警告解决

## 国内域名备案

在中国大陆提供服务的网站**必须**完成ICP备案：

### 备案条件

- 域名必须在实名认证通过
- 网站内容符合中国法律法规
- 有可用的备案服务号（通过云服务商获取）

### 备案流程

1. 准备资料
   - 个人：身份证、手持身份证照片
   - 企业：营业执照、法人身份证等
2. 通过云服务商（如腾讯云、阿里云）提交备案申请
3. 服务商初审
4. 管局审核（通常5-20个工作日）
5. 备案成功，获取ICP备案号

### 备案注意事项

- 不同省份管局要求可能不同
- 内容需合规，否则会被驳回
- 备案过程中不要频繁更改网站信息
- 备案完成后主体信息变更需重新备案

## 常见问题与解决方案

### DNS配置未生效

可能原因：
- DNS传播需要时间（最长48小时）
- 记录配置错误
- DNS缓存问题

解决方案：
- 使用[dnschecker.org](https://dnschecker.org)检查DNS传播状态
- 检查记录值是否正确
- 清除本地DNS缓存（Windows: `ipconfig /flushdns`）

### 域名解析到错误网站

可能原因：
- 多条冲突的DNS记录
- DNS缓存未更新
- CNAME冲突

解决方案：
- 删除旧的冲突记录
- 确保没有重复记录
- 对于根域名，避免同时使用A记录和CNAME记录

### 证书错误

可能原因：
- DNS配置不正确
- 证书未覆盖所有子域名
- 证书过期

解决方案：
- 确认DNS记录指向正确服务器
- 重新颁发包含所有子域名的证书
- 设置证书自动更新

## 域名维护与续费

### 续费时机

- 提前1-2个月续费
- 设置自动续费以避免忘记
- 重要域名考虑长期续费（3-5年）

### 域名保护措施

- 开启域名锁定，防止未授权转移
- 使用WHOIS隐私保护
- 使用强密码并开启两步验证
- 使用单独邮箱管理域名账户

### 域名转移

如需将域名转移到新注册商：
1. 解除域名锁定
2. 获取转移码（Authorization/EPP Code）
3. 在新注册商发起转移
4. 确认转移邮件
5. 等待转移完成（通常5-7天）

---

通过本指南，您应该能够成功配置和管理自定义域名。请根据您的实际需求和使用的服务平台，选择相应的配置方法。记住，域名是您的网络身份，值得精心管理和维护。
